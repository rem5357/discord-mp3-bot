server:
  port: 2333
  address: 127.0.0.1  # Localhost only for security

lavalink:
  plugins:
    # No plugins needed for local MP3 playback

  server:
    password: "bardbot-secure-password-2025"
    sources:
      youtube: true   # Required by lavalink-client for validation
      bandcamp: false
      soundcloud: false
      twitch: false
      vimeo: false
      http: true      # Required for Discord attachment URLs
      local: true     # Required for local files
    filters:
      volume: true    # Only filter used by the bot

    # ⭐ Critical Discord voice gateway settings
    bufferDurationMs: 600              # Network jitter buffer (good for handling latency variance)
    frameBufferDurationMs: 1000        # 1s frame buffer prevents CPU spike underruns (was 5000)
    opusSendInterval: 20               # ⭐ CRITICAL: Discord standard 20ms Opus frame interval
    opusEncodingQuality: 10            # Maximum quality (0-10) for 128 kbps Discord channel
    resamplingQuality: HIGH            # Best quality for HTTP sources (Discord URLs)

    # Playback settings
    trackStuckThresholdMs: 10000       # 10s timeout before declaring track stuck
    useSeekGhosting: true              # Smooth seeking behavior
    playerUpdateInterval: 5            # 5s Discord update interval (was 1, Lavalink default)

    # Search (disabled - not used by bot)
    youtubeSearchEnabled: false
    soundcloudSearchEnabled: false

    # Monitoring
    gc-warnings: true

metrics:
  prometheus:
    enabled: false
    endpoint: /metrics

sentry:
  dsn: ""
  environment: "production"

logging:
  file:
    path: ./logs/

  level:
    root: INFO
    lavalink: INFO

  logback:
    rollingpolicy:
      max-file-size: 10MB
      max-history: 30
